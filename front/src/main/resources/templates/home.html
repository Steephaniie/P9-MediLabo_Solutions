<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Medilabo Solutions - Liste des Patients</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div th:replace="~{fragments/header :: header}"></div>

    <div th:if="${error}" class="alert alert-danger">
      <strong>Erreur :</strong> <span th:text="${error}">Erreur</span>
    </div>

    <div th:if="${success}" class="alert alert-success">
      <span th:text="${success}">Succès</span>
    </div>

    <div class="mb-3 mt-5 w-75 mx-auto">
      <a href="/front/patient/new" class="btn btn-primary"
        >Ajouter un nouveau patient</a
      >
    </div>

    <!-- Liste des patients -->
    <div class="table-responsive w-75 mx-auto">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
              <th>ID</th>
              <th>Genre</th>
              <th>Nom</th>
              <th>Prénom</th>
              <th>Date de naissance</th>
              <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="patient : ${patients}">
            <td th:text="${patient.id}"></td>
              <td>
              <span
                      th:text="${patient.gender == 'M' ? 'Masculin' : 'Féminin'}"
                      class="badge"
                      th:classappend="${patient.gender == 'M' ? 'bg-primary bg-gradient' : 'bg-danger bg-gradient'}"
              ></span>
              </td>
              <td th:text="${patient.lastname}"></td>
              <td th:text="${patient.firstname}"></td>
              <td
              th:text="${#temporals.format(patient.birthDate, 'dd/MM/yyyy')}"
            ></td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
</html>
